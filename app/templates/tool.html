{% extends "base.html" %}

{% block head %}

<link href="/static/css/tool.css" rel="stylesheet">

{% endblock %}

{% block content %}

<div ng-app="toolApp">

<div ng-controller="ToolController">

<div id="bluestripe">
     
    <div class="row fullWidth">
     	<div class="medium-12 columns">
     	 <div class="row fullWidth">
     	    
     	    <div class="medium-11 columns text-right">
     	        <a id="save-chart" ng-click="saveChart()" style="margin-bottom:10px;" class="button tiny">Pin chart</a>
     	    </div>
     	    
     	    <div class="medium-1 columns text-left">
     	    <a class="orange-link tool-help" href="pages/Help">help</a>
     	    </div>
     	    
     	 </div>
     	</div>
     </div>

</div> 


<div id="app-container" ng-app="toolApp">

<div ngclass="row fullWidth">    

<input type="hidden" id="user" name="user" value="{{user}}" />
<input type="hidden" id="slug" name="slug" value="{{slug}}" />

<div class="large-9 medium-9 push-3 columns">
         
         

            
            
        <div class="row">
            
             
            <dl class="tabs" data-tab>
              <dd class="active"><a href="#graph-view"><strong>Edit</strong></a></dd>
              <dd><a href="#data-view"><strong>Explore</strong></a></dd>
            </dl>
            
            <div class="row">
                <div id="chart"></div>
          
            </div>
            
            <div class="row">
            		
            		<div id="chosen" style="margin-left:62px;">
            
						<span ng-repeat="series in selected">
			
						<span ng-click="removeFromChart($index)" class="series" ng-style="{@series.color@}">
						{@series.name@}
						<i class="fi-minus-circle"></i>
						</span>
					
						</span>
            		
            		</div>

            </div>
            
            <div class="tabs-content">
                <div class="content active clearfix" id="graph-view">
                
                <div class="large-3 medium-3 columns" style="margin-left: 34px;">

                
                 <label><h5>Chart type</h5></label><select class="type"><option value="column">Column</option><option selected="selected" value="line">Line</option><option value="spline">Smooth Line</option><option value="scatter">Scatter</option><option value="area">Area</option><option value="areaspline">Smooth Area</option><!--<option value='histogram'>Histogram</option><option value='histogram_stacked'>Histogram Stacked</option>--></select>
                


               </div>
                
                <!--<div class="large-3 medium-4 columns">
                <h5>Statistics</h5>
                <ul>
                    <li><input type="checkbox">&nbsp;Correlation</li>
                    <li><input type="checkbox">&nbsp;Histogram</li>
                </ul>
                </div>-->
                
                <div class="large-3 medium-4 columns">
                    <label><h5>Dates</h5></label><select class="from years" name="years_from" style="display: inline-block;"><option>2013</option><option>2012</option><option>2011</option><option>2010</option><option>2009</option><option>2008</option><option>2007</option><option>2006</option><option>2005</option><option>2004</option><option>2003</option><option>2002</option><option>2001</option><option>2000</option><option>1999</option><option>1998</option><option>1997</option><option>1996</option><option>1995</option><option>1994</option><option>1993</option><option>1992</option><option>1991</option><option>1990</option><option>1989</option><option>1988</option><option>1987</option><option>1986</option><option>1985</option><option>1984</option><option>1983</option><option>1982</option><option>1981</option><option>1980</option><option>1979</option><option>1978</option><option>1977</option><option>1976</option><option>1975</option><option>1974</option><option>1973</option><option>1972</option><option>1971</option><option>1970</option><option>1969</option><option>1968</option><option>1967</option><option>1966</option><option>1965</option><option>1964</option><option>1963</option><option>1962</option><option>1961</option><option>1960</option><option>1959</option><option>1958</option><option>1957</option><option>1956</option><option>1955</option><option>1954</option><option>1953</option><option>1952</option> <option>1951</option><option>1950</option><option>1949</option><option>1948</option><option>1947</option><option selected="selected">1946</option></select>
                    <label></label><select class="to years" name="years_to" style="display: inline-block;"><option selected="selected">2013</option><option>2012</option><option>2011</option><option>2010</option><option>2009</option><option>2008</option><option>2007</option><option>2006</option><option>2005</option><option>2004</option><option>2003</option><option>2002</option><option>2001</option><option>2000</option><option>1999</option><option>1998</option><option>1997</option><option>1996</option><option>1995</option><option>1994</option><option>1993</option><option>1992</option><option>1991</option><option>1990</option><option>1989</option><option>1988</option><option>1987</option><option>1986</option><option>1985</option><option>1984</option><option>1983</option><option>1982</option><option>1981</option><option>1980</option><option>1979</option><option>1978</option><option>1977</option><option>1976</option><option>1975</option><option>1974</option><option>1973</option><option>1972</option><option>1971</option><option>1970</option><option>1969</option><option>1968</option><option>1967</option><option>1966</option><option>1965</option><option>1964</option><option>1963</option><option>1962</option><option>1961</option><option>1960</option><option>1959</option><option>1958</option><option>1957</option><option>1956</option><option>1955</option><option>1954</option><option>1953</option><option>1952</option><option>1951</option><option>1950</option><option>1949</option><option>1948</option><option>1947</option><option>1946</option></select>
                </div>
                


				<div class="large-3 medium-4 columns left">
					
					<label><h5>Chart export</h5></label>
					<select id="chart_actions" class="from years" name="years_from" style="display: inline-block;">
					<option selected="selected">&nbsp;</option>
					<!--<option>Save</option>-->
					<option value="download">Download Image</option>
					<option value="copy">Copy URL</option>
					<option value="embed">Embed</option>
					</select>
                   
					<!--<input id="pushme" class="left" type="button" value="save">-->
					
					<!--<br/>
					<br/>
					<br/>
					
					<a href="#">download data</a></p>-->
					
				</div>
                 
                
                </div>
                
                
                <div style="margin-left:54px" class="content" id="data-view">
                
                
                
                <table class="drilldown"><tbody><tr><th></th><th><h3>Belgium: Hearings #Inflation</h3><br></th><th><h3>Belgium: Hearings #Taxation</h3><br></th></tr><tr><td>2000</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2000&amp;to_year=2000&amp;topic=105&amp;xaxis=years">3 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2000&amp;to_year=2000&amp;topic=107&amp;xaxis=years">11 </a></td></tr><tr><td>2001</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2001&amp;to_year=2001&amp;topic=105&amp;xaxis=years">12 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2001&amp;to_year=2001&amp;topic=107&amp;xaxis=years">8 </a></td></tr><tr><td>2002</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2002&amp;to_year=2002&amp;topic=105&amp;xaxis=years">15 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2002&amp;to_year=2002&amp;topic=107&amp;xaxis=years">8 </a></td></tr><tr><td>2003</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2003&amp;to_year=2003&amp;topic=105&amp;xaxis=years">9 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2003&amp;to_year=2003&amp;topic=107&amp;xaxis=years">22 </a></td></tr><tr><td>2004</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2004&amp;to_year=2004&amp;topic=105&amp;xaxis=years">16 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2004&amp;to_year=2004&amp;topic=107&amp;xaxis=years">11 </a></td></tr><tr><td>2005</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2005&amp;to_year=2005&amp;topic=105&amp;xaxis=years">20 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2005&amp;to_year=2005&amp;topic=107&amp;xaxis=years">17 </a></td></tr><tr><td>2006</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2006&amp;to_year=2006&amp;topic=105&amp;xaxis=years">11 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2006&amp;to_year=2006&amp;topic=107&amp;xaxis=years">20 </a></td></tr><tr><td>2007</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2007&amp;to_year=2007&amp;topic=105&amp;xaxis=years">11 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2007&amp;to_year=2007&amp;topic=107&amp;xaxis=years">19 </a></td></tr><tr><td>2008</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2008&amp;to_year=2008&amp;topic=105&amp;xaxis=years">11 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2008&amp;to_year=2008&amp;topic=107&amp;xaxis=years">8 </a></td></tr><tr><td>2009</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2009&amp;to_year=2009&amp;topic=105&amp;xaxis=years">7 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2009&amp;to_year=2009&amp;topic=107&amp;xaxis=years">6 </a></td></tr><tr><td>2010</td><td><a class="Source Description" name="Hearings: Macroeconomics: National Budget, Debt" href="/papgraph/drilldown?dataset=ch&amp;from_year=2010&amp;to_year=2010&amp;topic=105&amp;xaxis=years">14 </a></td><td><a class="Source Description" name="Hearings: Macroeconomics: Tax Policy, Reform" href="/papgraph/drilldown?dataset=ch&amp;from_year=2010&amp;to_year=2010&amp;topic=107&amp;xaxis=years">4 </a></td></tr></tbody></table>
                
                <a href="#">Copy this table</a><br/>
                <a href="#">Download all data</a>
                
                
                </div>
            </div>
            
        </div>
            
</div>
            
<div class="large-3 medium-3 pull-9 columns">
     
<dl class="tabs" data-tab>
  <dd class="active"><a href="#panel1"><strong>Add series</strong></a></dd>
  <dd><a href="#panel2"><strong>View history</strong></a></dd>
</dl>
<div class="tabs-content contained">
  <div class="content active" id="panel1">
    
   
    <!--h4>Find datasets</h4>-->
    <h5 class="picker-label">Select countries</h5>
    <div id="countries" class="picker" style="display:block">
    <div ng-repeat="country in countries">
    <input ng-attr-country="{@country.short_name@}" type="checkbox" ng-click="surprise()">
    <label>{@country.name | limitTo : 27@}</label>
    </div>
    </div>
   


	<h5 class="picker-label">Select dataset type</h5>
    <div id="categories" class="picker">
    <div ng-repeat="category in categories">
    <input ng-attr-catid="{@category.category_id@}" type="checkbox" ng-click="surprise()">
    <label>{@category.name | limitTo : 27@}</label>
    </div>
    </div>
   




    <h5 class="picker-label">Select policy topics</h5>
    <div id="topics" class="picker">

        <ul class="mtree">
        
            <!--<li ng-repeat="topic in topics"><a href="#">{@topic.topic@}</a>
                <ul>
                    <li ng-repeat="subtopic in topic.subtopics">
                    <input type="checkbox" subtopic="103" ng-click="surprise()"><span>wow</span>
                    </li>
                </ul>
            </li>-->
            
            
          <li><a href="#">Macroeconomics</a>
              <ul>
                <li><input type="checkbox" subtopic="105" ng-click="surprise()"><span>Inflation</span></li>
                <li><input type="checkbox" subtopic="107" ng-click="surprise()"><span>Unemployment</span></li>
                <!--<li><input type="checkbox" subtopic="108" ng-click="surprise()"><span>Monetary Supply</span></li>
                <li><input type="checkbox" subtopic="104" ng-click="surprise()"><span>Taxation</span></li>-->
                <li><input type="checkbox" subtopic="100" ng-click="surprise()"><span>Industrial Policy</span></li>
              </ul>
          </li>
          <li><a href="#">Civil Rights</a>
              <ul>
              <!--  <li><input type="checkbox" subtopic="104" ng-click="surprise()"><span>Ethnic</span></li> -->
                <li><input type="checkbox" subtopic="103" ng-click="surprise()"><span>Gender</span></li>
               <!-- <li><input type="checkbox" subtopic="2102" ng-click="surprise()"><span>Age</span></li>
                <li><input type="checkbox" subtopic="1615" ng-click="surprise()"><span>Handicap</span></li>
                <li><input type="checkbox" subtopic="1609" ng-click="surprise()"><span>Privacy</span></li> -->
              </ul>
          </li>
         <li><a href="#">Health</a>
                <ul>
                <li><input type="checkbox" subtopic="104" ng-click="surprise()"><span>Insurance</span></li>
                <li><input type="checkbox" subtopic="108" ng-click="surprise()"><span>Liability</span></li>
                <!--<li><input type="checkbox" subtopic="1600" ng-click="surprise()"><span>Infants</span></li>
                <li><input type="checkbox" subtopic="1501" ng-click="surprise()"><span>Alcohol</span></li>
                <li><input type="checkbox" subtopic="1921" ng-click="surprise()"><span>Research</span></li>-->
              </ul>
          </li>
          
          
          
          <!-- <li><a href="#">Agriculture</a></li>-->
          <li><a href="#">Employment</a>
            <ul>
            <li><input type="checkbox" subtopic="500" ng-click="surprise()"><span>General Labor</span></li>
            <li><input type="checkbox" subtopic="501" ng-click="surprise()"><span>Worker Safety and Protection</span></li>
            <li><input type="checkbox" subtopic="502" ng-click="surprise()"><span>Employment Training</span></li>
            <li><input type="checkbox" subtopic="503" ng-click="surprise()"><span>Employee Benefits</span></li>
            <li><input type="checkbox" subtopic="504" ng-click="surprise()"><span>Labor Unions</span></li>
            <li><input type="checkbox" subtopic="505" ng-click="surprise()"><span>Fair Labor Standards</span></li>
            <li><input type="checkbox" subtopic="506" ng-click="surprise()"><span>Youth Employment and Child Labor</span></li>
            <li><input type="checkbox" subtopic="508" ng-click="surprise()"><span>Parental Leave and Child Care</span></li>
            <li><input type="checkbox" subtopic="529" ng-click="surprise()"><span>Migrant and Seasonal workers</span></li>
            <li><input type="checkbox" subtopic="599" ng-click="surprise()"><span>Other [Labor]</span></li>
            </ul>
          </li>
            
            
        </ul>
    
    </div>
   

   

    <div ng-repeat="series in results" class="dataset">
    
    <p ng-hide="isSelected(series.name)" ng-click="addToChart(series)" class="panel series data-equalizer">
    <span class="data-equalizer-watch">{@series.name@}</span><span class="addseries data-equalizer-watch">
    <span style="float:right"><i class="fi-plus"></i></span>
    </span>
    </p>
    </div>
    

  </div>

  
  <div class="content" id="panel2">
  
   <h5>Pinned</h5>
   <div style="overflow: auto; height: 360px; border: 2px solid #dadada;">
   <img class="thumb" ng-click="savedMenu($index)" ng-repeat="thumb in saved | orderBy: 'id':true" ng-src="{@thumb.url@}">
   </div>
    	
<!--   	
max-height: 175px;
min-height: 50px;
margin: 0;
padding: 7px 0;
overflow-x: hidden;
overflow-y: auto;
border: 2px solid #dadada;-->
    	
     <h5>Recent</h5>
     <div style="overflow: auto; height: 180px; border: 2px solid #dadada;">
     
     <img class="thumb" ng-click="thumbMenu($index)" ng-repeat="thumb in recent | orderBy: 'id':true" ng-src="{@thumb.url@}">
     
	 </div>
    
  </div>
</div>
         
            
</div>
        
</div>
       
  
            
<div id="embed_code" class="reveal-modal small" data-reveal>
    
    <p>To embed this mighty CAP chart copy the following code and slap it up on a web page:</p>
    
    <textarea>
    <pre>
    <div id="chart"></div>
    <script src="//code.highcharts.com/adapters/standalone-framework.js"></script>
    <script src="//code.highcharts.com/highcharts.js"></script>
    <script>// <![CDATA[
    new Highcharts.Chart({{ options | safe }});
    // ]]></script>
    </pre>
    </textarea>

</div>  
    
    
    
      
    <div id="lineoptions" class="reveal-modal small" data-reveal>
        
        <div id="bills_topic_1" class="active_controls"><label> Measures: </label><select class="measures"><option value="count">Count</option><option value="percent_total">Percent Total</option><option value="percent_change">Percent Change</option><option value="percent_percent_change">Percent Percent Change</option></select><label>Type:</label><select class="type"><option value="column">Column</option><option selected="selected" value="line">Line</option><option value="spline">Smooth Line</option><option value="scatter">Scatter</option><option value="area">Area</option><option value="areaspline">Smooth Area</option><!--<option value='histogram'>Histogram</option><option value='histogram_stacked'>Histogram Stacked</option>--></select><label>Y-axis: </label><select class="yaxis"><option value="0">none</option><option value="1" selected="selected">primary</option><option value="2">secondary</option></select></div>
        
        <div class="parent_list"><table class="filters sublist"><tbody><tr class="sublist_header"><th>Include&nbsp;</th><th>Exclude&nbsp;</th><th>Filter</th></tr><tr><td class="sub_checkbox"><input title="Include" type="checkbox" name="ch_filter[lm]" value="yes"></td><td class="sub_checkbox"><input title="Exclude" type="checkbox" name="ch_filter[lm]" value="no"></td><td><label>Referral Hearing</label><a href="" title="Hearing that mentions a bill number or name (as in, &quot;a hearing to consider S 2137, the...&quot;), excluding hearings on draft legislation (such as appropriations bills or defense and intelligence authorization bills)." class="description_link subfilter">?</a></td></tr><tr><td class="sub_checkbox"><input title="Include" type="checkbox" name="ch_filter[ba]" value="yes"></td><td class="sub_checkbox"><input title="Exclude" type="checkbox" name="ch_filter[ba]" value="no"></td><td><label>Budget Appropriations</label><a href="" title="The hearing considered, authorized, made or reauthorized appropriations or budgets." class="description_link subfilter">?</a></td></tr><tr><td class="sub_checkbox"><input title="Include" type="checkbox" name="ch_filter[ac]" value="yes"></td><td class="sub_checkbox"><input title="Exclude" type="checkbox" name="ch_filter[ac]" value="no"></td><td><label>Agency Creation</label><a href="" title="The hearings involved the creation of a new government agency." class="description_link subfilter">?</a></td></tr><tr><td class="sub_checkbox"><input title="Include" type="checkbox" name="ch_filter[pc]" value="yes"></td><td class="sub_checkbox"><input title="Exclude" type="checkbox" name="ch_filter[pc]" value="no"></td><td><label>Program Creation</label><a href="" title="The hearing involved the proposal for a new program, independent of the new agency filter." class="description_link subfilter">?</a></td></tr><tr><td class="sub_checkbox"><input title="Include" type="checkbox" name="ch_filter[pp]" value="yes"></td><td class="sub_checkbox"><input title="Exclude" type="checkbox" name="ch_filter[pp]" value="no"></td><td><label>Issue proposed by the President</label><a href="" title="The hearing involved issues or legislation proposed by the administration of the President, independent of all other filters." class="description_link subfilter">?</a></td></tr></tbody></table></div>
        
        <a class="close-reveal-modal">&#215;</a>
    
    
    </div>   
      
    <div id="datapoints" class="reveal-modal small" data-reveal>
        
        <p>&nbsp;</p>
        
        <div style="overflow: auto; height: 400px;">
        
        <table class="instances_table"><tbody><tr><th>Source</th><th>Description</th></tr><tr><td>75-J841-8</td><td>Inflation and government policies.</td></tr><tr><td>75-J841-16</td><td>Inflation outlook.</td></tr><tr><td>75-J841-20</td><td>President's economic proposals, inflation.</td></tr><tr><td>75-J841-25</td><td>Food chain pricing activities, increase of food price.</td></tr><tr><td>75-S241-2</td><td>Creation of a monitoring agency to curb cost of living increases.</td></tr><tr><td>75-S361-16</td><td>Impact of high interest rates on the economy.</td></tr><tr><td>75-S721-2</td><td>Performing government contracts, inflation impact.</td></tr><tr><td>74-H241-18</td><td>Establish a cost of living task force.</td></tr><tr><td>74-H781-12</td><td>Unemployment compensation.</td></tr><tr><td>74-S241-25</td><td>Consumer price index.</td></tr><tr><td>74-S241-33</td><td>Consumer price indexing and practices of adjusting prices and wages.</td></tr><tr><td>74-S261-68</td><td>Consumer food costs.</td></tr></tbody></table>
        
        </div>
        
        <a class="close-reveal-modal">&#215;</a>
        
    </div>
    
	<div id="thumbnailoptions" class="reveal-modal tiny" data-reveal>
	  
	<br/>
	  
	  <img class="thumb" src="/static/img/lilchart3.png">
	  <br/>
	  
	 
	<select class="from years" name="years_from" style="display: inline-block;">
	<option selected="selected">&nbsp;</option>
	<!--<option>Save</option>-->
	<option>Download Image</option>
	<option>Copy URL</option>
	<option>Embed</option>
	</select>
   
	<input id="pushme" class="left" type="button" value="recall">
	  
	  <a class="close-reveal-modal">&#215;</a>
    
    </div>
    
  </div>

</div>

</div>

{% endblock %}

     {% block scripts %}
      
      <script>
        
        {% if options %}
        
        var options = {{ options | safe }};
        
        {% else %}
        
        var options = {
        
        chart: {
            renderTo: 'chart',
            ignoreHiddenSeries : false
        },
        
        title: {
            text: ''
        },
		
		tooltip: { enabled: false },
		credits: { enabled: false },
		
		xAxis: {
        	title : {
        		text: 'Year'
        	},
        	
            categories: ['2001', '2002', '2003', '2004', '2005', '2006',
                '2007', '2008', '2009', '2010',]
        },
             
        yAxis: {

            title: {
                text: 'Count'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        },
        
        plotOptions:{
            line: {
                dataLabels: {
                    enabled: false 
                }
            },
            column:{
                borderWidth: 0.2
            },
            series:{
                point: {
                    events: {
                        'click': function(event){
                        
                            if ( $('a[href="#data-view"]').attr('aria-selected') == "true" ) { 
                                
                                $('#datapoints').foundation('reveal', 'open');
                                
                            } else {
                                
                                $('#lineoptions').foundation('reveal', 'open');
                                
                            }
                        }
                    }
               },
               
               states: {
                hover: {
                 halo: false
                }
               },
               
               shadow: false,
               animation: false,
               cursor: 'pointer'
           }
        },
        
        legend:{
            enabled: false
        },
        
        exporting:{
            buttons:{
                contextButton:{
                    enabled: false
                }	 
            },
            url: 'http://104.237.136.8:8080/highcharts-export-web/',
            width: '960'
        },
        
        series: [],
    	
    
    	colors: ['#7cb5ec', '#90ed7d', '#f7a35c', '#8085e9', '#f15c80', '#e4d354', '#8085e8', '#8d4653', '#91e8e1']

    	
        };
      
      {% endif %}
      
        $(document).ready(function() {
    
            $('a.Source').click(function(e) {
                e.preventDefault();
                $('#datapoints').foundation('reveal', 'open');
            });
    
            $('img.thumb').click(function(e) {
                e.preventDefault();
                $('#thumbnailoptions').foundation('reveal', 'open');
            });
    
            $('h5.picker-label').click(function(e) {
                e.preventDefault();
                $('div.picker:visible').slideToggle('fast','linear');
                $(this).next('div').slideToggle('fast','linear');
            });
            
            
            $('#pushme').click(function(e) {
        
                /*
                var turnOffGrid = { lineWidth: 0,
                gridLineWidth: 0,
                minorGridLineWidth: 0,
                lineColor: 'transparent',      
                labels: {
                   enabled: false
                },
                minorTickLength: 0,
                tickLength: 0 };
                */
        
                //var turnOffGrid = {
                //gridLineWidth: 0
                //};
        
                /*
                var options = theChart.options;
                options.yAxis.lineWidth = 0;
                options.yAxis.gridLineWidth = 0;
                options.yAxis.gridLineColor = 'transparent';
                options.yAxis.labels = {
                   enabled: false
                }
                options.yAxis.minorTickLength = 0;
                options.yAxis.tickLength = 0;
                theChart = new Highcharts.Chart(options);

                theChart.addSeries({
                    name: 'US State of Shock',
                    data: [1,2,3,4,5,6,7,8,9,0]
                });
                */
        
                //var theseOptions = theChart.options;
        
                //console.log(theseOptions);
        
                //for (var attrname in turnOffGrid) { theseOptions.xAxis[attrname] = turnOffGrid[attrname]; }
                //for (var attrname in turnOffGrid) { theseOptions.yAxis[attrname] = turnOffGrid[attrname]; }
        
        
        
                //theChart.destroy();
                //theChart = new Highcharts.Chart(theseOptions);
        
        
        
                /*
                e.preventDefault();
                theChart.addSeries({
                    name: 'US State of Shock',
                    data: [1,2,3,4,5,6,7,8,9,0]
                });
                */
        
                //theChart.redraw();
        
        
        
        
            });
    
            $( "#chart_actions" ).change(function() {
    
                if ($(this).val() == "download") {
            
                    theChart.exportChart({
                        type: 'img/png',
                        filename: $("#slug").val()
                    });
            
                }
                
                if ($(this).val() == "copy") {
                    
                    window.prompt( "Copy to clipboard: Ctrl+C, Enter", "http://www.coolbest.net:5000/charts/" + $("#slug").val() );
            
                }
                
                if ($(this).val() == "embed") {
                    
                   $('#embed_code').foundation('reveal', 'open');
            
                }
        
            });
    
        });
      
      </script>
      
      
      <script src="/static/js/highcharts.js"></script>
      <script src="http://code.highcharts.com/modules/exporting.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
      <script src="/static/js/tool.js"></script>
      <script src="/static/js/mtree.js"></script>

    {% endblock %}
